---
import parseYouTubeUrl from "../utils/youtubeUrlParser";

export interface Props {
  url: string;
  title?: string;
  class?: string;
}

const { url, title, class: className = "" } = Astro.props;
const { videoId } = parseYouTubeUrl(url);
const embedUrl = `https://www.youtube.com/embed/${videoId}`;
---

<iframe
  class={`rounded-xl aspect-video w-full ${className}`}
  src={embedUrl}
  title={title}
  frameborder="0"
  allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
  referrerpolicy="strict-origin-when-cross-origin"
  allowfullscreen></iframe>
